#:kivy 1.11.1

<MainScreen>:
    BoxLayout: # une boite pour tout
        orientation: 'horizontal'

        canvas:
            Color:
                rgb: 1, 1, 1
            Rectangle:
                size: self.size
                pos: self.pos

        BoxLayout: # gauche avec image
            # Taille carrée, largeur = hauteur
            size_hint_x: root.height/root.width
            orientation: 'vertical'

            canvas:
                Rectangle:
                    # self.size = taille du BoxLayout gauche
                    size: self.size[0]/4, self.size[1]/4
                    pos: self.center_x - self.size[0]/8, self.height / 10
                    source: "./images/labo.png"

            Label:  # Apprendre Kivy
                text: root.titre
                bold: True
                size_hint_y: 0.1
                font_size: "48dp"
                color: (0.5, 0.5, 0, 1)
            Label:  # Pour apprendre Kivy
                text: "Lancer\nserverkivy.py\npour la réception"
                size_hint_y: 0.8
                font_size: "36dp"
                color: (0, 1, 0, 1)
            Label:  # accents
                text: "àùéèîôûê@ àùéèîôûê@"
                size_hint_y: 0.1
                font_size: "24dp"
                color: (1, 0, 1, 1)

        BoxLayout: # droite avec boutons
            size_hint_x: 1 - root.height/root.width
            orientation: 'vertical'
            Button:  # Jouer
                background_color: (0.8, 0.8, 0.8, 1)
                text: 'Jouer'
                color: (0, 1, 0, 1)
                font_size: "22dp"
                on_release: app.root.current = "Screen1"
            Button:  # Options
                background_color: (0.7, 0.7, 0.7, 1)
                text: 'Options'
                color: (0, 1, 0, 1)
                font_size: "22dp"
                on_release: app.open_settings()
            Button:  # Quitter
                background_color: (0.6, 0.6, 0.6, 1)
                text: 'Quitter'
                color: (0, 1, 0, 1)
                font_size: "22dp"
                on_release: app.do_quit()

<Screen1>:
    BoxLayout:# Une boîte pour tout
        orientation: 'horizontal'

        BoxLayout:  # Boite à gauche
            orientation: 'vertical'
            size_hint_x: 0.2
            canvas:
                Color:
                    rgb: 0, 1, 0
                Rectangle:
                    pos: self.pos
                    size: self.size
            Slider:
                id: img_size
                orientation: "vertical"
                range: 0.2, 1
                value: 1
                on_value: root.do_slider("img_size", *args)

        BoxLayout:  # Boite au centre
            orientation: 'horizontal'
            size_hint_x: 0.6
            canvas:
                Color:
                    rgb: 0, 0, 1
                Rectangle:
                    pos: self.pos
                    size: self.size
            Slider:
                id: position_vert
                orientation: "vertical"
                range: 0, 1
                value: 0
                on_value: root.do_slider("pos_vert", *args)
            Slider:
                id: position_hori
                orientation: "horizontal"
                range: 0, 1
                value: 0
                on_value: root.do_slider("pos_hori", *args)

        BoxLayout:  # Boite à droite
            orientation: 'vertical'
            size_hint_x: 0.2
            canvas:
                Color:
                    rgb: 1, 0, 0
                Rectangle:
                    pos: self.pos
                    size: self.size
            Label:
                size_hint_y: 0.84
                font_size: 20
                color: (0, 1, 1, 1)
                text: "Quoi ?"

            Button:  # Ecran 2
                size_hint_y: 0.08
                background_color: (0.8, 0.8, 0.8, 1)
                text: 'Touch'
                color: (0, 1, 0, 1)
                font_size: "22dp"
                on_release: app.root.current = "Screen2"

            Button:  # Retour mainscreen
                size_hint_y: 0.08
                background_color: (0.6, 0.6, 0.6, 1)
                text: 'Menu'
                color: (0, 1, 0, 1)
                font_size: "22dp"
                on_release: app.go_mainscreen()

            Button:  # Options
                size_hint_y: 0.08
                background_color: (0.4, 0.4, 0.4, 1)
                text: 'Options'
                color: (0, 1, 0, 1)
                font_size: "22dp"
                on_release: app.open_settings()

            Button:  # Quitter
                size_hint_y: 0.08
                background_color: (0.2, 0.2, 0.2, 1)
                text: 'Quitter'
                color: (0, 1, 0, 1)
                font_size: "22dp"
                on_release: app.do_quit()

<Picture>:
    on_size: self.center = win.Window.center
    size: image.size
    size_hint: None, None

    Image:
        id: image
        source: root.source
        size: 400, 400 / self.image_ratio

<Screen2>:
    BoxLayout:# Une boîte pour tout
        orientation: 'horizontal'

        BoxLayout:  # Boite à gauche
            orientation: 'horizontal'
            size_hint_x: 0.9
            FloatLayout:
                canvas:
                    Color:
                        rgb: 0.3, 0.5, 0.7

        BoxLayout:  # Boite à droite
            orientation: 'vertical'
            size_hint_x: 0.1
            canvas:
                Color:
                    rgb: 1, 0, 0
                Rectangle:
                    pos: self.pos
                    size: self.size
            Label:
                size_hint_y: 0.84
                font_size: 20
                color: (0, 1, 1, 1)
                text: "Quoi ?"

            Button:  # Retour mainscreen
                size_hint_y: 0.08
                background_color: (0.8, 0.8, 0.8, 1)
                text: 'Menu'
                color: (0, 1, 0, 1)
                font_size: "22dp"
                on_release: app.go_mainscreen()

            Button:  # Options
                size_hint_y: 0.08
                background_color: (0.6, 0.6, 0.6, 1)
                text: 'Options'
                color: (0, 1, 0, 1)
                font_size: "22dp"
                on_release: app.open_settings()

            Button:  # Quitter
                size_hint_y: 0.08
                background_color: (0.4, 0.4, 0.4, 1)
                text: 'Quitter'
                color: (0, 1, 0, 1)
                font_size: "22dp"
                on_release: app.do_quit()
